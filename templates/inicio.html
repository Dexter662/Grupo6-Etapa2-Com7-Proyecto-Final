{% extends 'base.html' %}

{% block title %}Inicio{% endblock %}

{% block content %}

<h2>BIENVENIDO ğŸ </h2>

{% if not user.is_authenticated %}

    {# ============================ #}
    {# USUARIO NO LOGUEADO #}
    {# ============================ #}
    <p>
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem provident sunt soluta corporis,
        illo quaerat quae odio laboriosam quo deserunt adipisci repudiandae est voluptates voluptatem eum
        necessitatibus, nobis minima aperiam.
    </p>

    <li>
        <a href="{% url 'posts:lista' %}">
            <button type="button">Ir a Publicaciones ğŸ“°</button>
        </a>
    </li>

{% else %}

    <p>Hola, <strong>{{ user.username }}</strong> ğŸ‘‹</p>
    <p>Has iniciado sesiÃ³n correctamente.</p>

    {# ============================ #}
    {# ADMIN #}
    {# ============================ #}
    {% if user.rol == 'admin' %}

        <h3>Panel Administrador ğŸ›¡ï¸</h3>
        <ul>
            <li>
                <a href="{% url 'posts:lista' %}">
                    <button type="button">Gestionar Publicaciones ğŸ“°</button>
                </a>
            </li>
            <li>
                <a href="{% url 'users:list' %}">
                    <button type="button">Gestionar Usuarios ğŸ‘¥</button>
                </a>
            </li>
        </ul>

    {# ============================ #}
    {# AUTOR #}
    {# ============================ #}
    {% elif user.rol == 'author' %}

        <h3>Panel Autor âœï¸</h3>
        <ul>
            <li>
                <a href="{% url 'posts:lista' %}">
                    <button type="button">Mis Publicaciones ğŸ“°</button>
                </a>
            </li>
            <li>
                <a href="{% url 'posts:crear' %}">
                    <button type="button">Crear PublicaciÃ³n â•</button>
                </a>
            </li>
            <li>
                {% if user.id == request.user.id %}
                    <a href="{% url 'users:profile_edit' %}">
                        <button type="button">Editar perfil</button>
                    </a>
                {% endif %}
            </li>
        </ul>

    {# ============================ #}
    {# USUARIO COMÃšN #}
    {# ============================ #}
    {% else %}

        <h3>Mi cuenta ğŸ‘¤</h3>
        <ul>
            <li>
                <a href="{% url 'posts:lista' %}">
                    <button type="button">Ver Publicaciones ğŸ“°</button>
                </a>
            </li>
            <li>
                <a href="{% url 'users:detail' user.id %}">
                    <button type="button">Mi Perfil ğŸ‘¤</button>
                </a>
            </li>
            <li>
                {% if user.id == request.user.id %}
                    <a href="{% url 'users:profile_edit' %}">
                        <button type="button">Editar perfil</button>
                    </a>
                {% endif %}
            </li>
        </ul>

    {% endif %}


{% endif %}

{% endblock %}
