{% extends 'base.html' %}

{% block title %}CategorÃ­as{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-success fw-bold">ğŸ“‚ CategorÃ­as</h2>

    {% if user.is_authenticated and user.rol == 'admin' %}
        <a href="{% url 'posts:categoria_crear' %}"
           class="btn btn-success">
            â• Nueva categorÃ­a
        </a>
    {% endif %}
</div>

<div class="card shadow-sm">
    <div class="card-body p-0">

        <table class="table table-striped mb-0">
            <thead class="table-success">
                <tr>
                    <th>Nombre</th>
                    <th>Fecha creaciÃ³n</th>
                    {% if user.rol == 'admin' %}
                        <th class="text-center">Acciones</th>
                    {% endif %}
                </tr>
            </thead>

            <tbody>
            {% for categoria in categorias %}
                <tr>
                    <td>{{ categoria.nombre }}</td>
                    <td>{{ categoria.creada|date:"d/m/Y" }}</td>

                    {% if user.rol == 'admin' %}
                    <td class="text-center">
                        <a href="{% url 'posts:categoria_editar' categoria.id %}"
                           class="btn btn-sm btn-warning">
                            âœï¸
                        </a>

                        <a href="{% url 'posts:categoria_eliminar' categoria.id %}"
                           class="btn btn-sm btn-danger">
                            ğŸ—‘ï¸
                        </a>
                    </td>
                    {% endif %}
                </tr>
            {% empty %}
                <tr>
                    <td colspan="3" class="text-center py-4">
                        No hay categorÃ­as creadas.
                    </td>
                </tr>
            {% endfor %}
            </tbody>

        </table>

    </div>
</div>

{% endblock %}